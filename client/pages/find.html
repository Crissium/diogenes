<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <link rel="stylesheet" type="text/css" href="find.css" />
    <title>Find in Page</title>
  </head>
  <body>
    <div class="find-body">
      <form>
        <input id="textToFind" size="20" type="text" name="find" value="" placeholder="Find in page" autofocus />
        <button id="down" onclick="next()"><span></span></button><button id="up" onclick="prev()"><span></span></button>
        &nbsp;<button onclick="cancel()">Cancel</button>
      </form>
      </div>
      <script>

const { ipcRenderer } = require("electron")

document.addEventListener('keydown', event => {
    if (event.key === 'Escape' || event.keyCode === 27) {
        cancel();
    }
});

function cancel() {
  ipcRenderer.send("findText", "")
  this.close();
}

function next() {
  ipcRenderer.send("findText", document.getElementById("textToFind").value, "next")
}

function prev() {
  ipcRenderer.send("findText", document.getElementById("textToFind").value, "prev")
}

</script>
  </body>
</html>
